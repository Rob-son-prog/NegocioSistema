<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>Cadastro de Cliente e Contrato</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css?v=6" />
</head>
<body class="dashboard">
  <div class="layout">
    <aside class="sidebar">
      <div class="menu">
        <a class="item" href="dashboard.html">← Voltar ao painel</a>
        <a class="item" href="acesso-cliente.html">Acesso do cliente</a>
        <a class="item" href="portal.html">Portal (admin)</a>
      </div>
    </aside>

    <main class="content">
      <div class="topbar">
        <h2>Cadastro</h2>
        <div class="muted">Preencha os dados do cliente e do contrato</div>
      </div>

      <section class="panel">
        <div class="panel-header"><h3>Cliente</h3></div>
        <div class="panel-body">
          <form id="formCliente" class="grid" style="grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;">
            <label>Nome
              <input id="c-nome" required placeholder="Nome do cliente" />
            </label>
            <label>CPF
              <input id="c-cpf" required inputmode="numeric" placeholder="000.000.000-00" />
            </label>

            <label>E-mail
              <input id="c-email" type="email" placeholder="exemplo@email.com" />
            </label>
            <label>Telefone
              <input id="c-fone" inputmode="tel" placeholder="65999990000" />
            </label>

            <!-- ===== ENDEREÇO ===== -->
            <label>CEP
              <input id="c-cep" placeholder="00000-000" maxlength="9" />
            </label>
            <label>Número
              <input id="c-numero" placeholder="nº" />
            </label>

            <label style="grid-column:1 / -1;">Endereço (Rua/Av.)
              <input id="c-logradouro" placeholder="Rua/Av." />
            </label>

            <label>Complemento
              <input id="c-complemento" placeholder="apto, bloco..." />
            </label>
            <label>Bairro
              <input id="c-bairro" placeholder="Bairro" />
            </label>

            <label>Cidade
              <input id="c-cidade" placeholder="Cidade" />
            </label>
            <label>UF
              <input id="c-uf" placeholder="UF" maxlength="2" />
            </label>
            <!-- ===================== -->

            <div style="grid-column:1/-1;display:flex;gap:8px;align-items:center;">
              <button class="btn primary" type="submit" id="btnSalvarCliente">Salvar cliente</button>
              <span id="msgCliente" class="muted"></span>
            </div>
          </form>
        </div>
      </section>

      <section class="panel">
        <div class="panel-header"><h3>Contrato</h3></div>
        <div class="panel-body">
          <form id="formContrato" class="grid" style="grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;">
            <label>Valor base (R$)
              <input id="k-base" type="number" min="0" step="0.01" required placeholder="1000.00" />
            </label>
            <label>Margem (%)
              <input id="k-margem" type="number" min="0" step="0.01" value="0" />
            </label>
            <label>Parcelas
              <input id="k-parcelas" type="number" min="1" step="1" required placeholder="12" />
            </label>
            <label>1º vencimento
              <input id="k-firstdue" type="date" required />
            </label>
            <label>Tipo
              <select id="k-tipo">
                <option value="negocio" selected>Negócio</option>
                <option value="servico">Serviço</option>
              </select>
            </label>

            <div style="grid-column:1/-1;display:flex;gap:8px;align-items:center;">
              <button class="btn primary" type="submit" id="btnCriarContrato">Criar contrato + parcelas</button>
              <span id="msgContrato" class="muted"></span>
            </div>
          </form>
        </div>
      </section>

      <section class="panel">
        <div class="panel-header"><h3>Resultado</h3></div>
        <div class="panel-body">
          <div id="out" class="muted">—</div>
          <div style="margin-top:12px;display:flex;gap:8px">
            <button id="btnPortalCliente" class="btn" style="display:none">Abrir portal (cliente)</button>
            <button id="btnPortalAdmin" class="btn" style="display:none">Abrir portal (admin)</button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- SEMPRE primeiro -->
<script src="config.js?v=3"></script>

<!-- depois o JS da página -->
<script src="cadastro.js?v=3"></script>

</body>
</html>
